<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registrar receta | Gastro Works</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="/front-end/css/theme.css">
</head>

<body class="bg-light d-flex flex-column min-vh-100">

  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg bg-vino">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="/front-end/pagina-principal.html">
        <img src="/imgs/logo.png" alt="Gastro Works" class="logo-navbar">
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
        data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
        aria-label="Mostrar menú">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">

        <ul class="navbar-nav align-items-lg-center">

          <li class="nav-item">
            <a class="nav-link" href="/front-end/pagina-principal.html">Inicio</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/front-end/buscar-recetas.html">Recetas</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="#">Chefs</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="#">Sobre Nosotros</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="#">Contacto</a>
          </li>

          <li class="nav-item ms-lg-3 mt-2 mt-lg-0">
            <a id="nav-login" class="btn btn-sm btn-light rounded-pill fw-semibold"
              href="/front-end/login.html">
              Iniciar sesión
            </a>
            <a id="nav-profile" class="btn btn-sm btn-light rounded-pill fw-semibold d-none"
              href="/front-end/perfil.html">
              Mi perfil
            </a>
          </li>

        </ul>
      </div>
    </div>
  </nav>

  <!-- FORMULARIO -->
  <main class="container my-4 flex-fill">
    <div class="registro-card mx-auto" style="max-width: 900px;">

      <h2 class="titulo-registro mb-4">Registrar Receta</h2>

      <form id="formReceta" enctype="multipart/form-data">

        <!-- Foto principal -->
        <div class="mb-3">
          <label class="form-label fw-bold">Foto principal *</label>
          <input type="file" id="fotoPrincipal" name="fotoPrincipal"
            class="form-control input-custom" accept="image/*" required>
        </div>

        <!-- Autor -->
        <div class="mb-3">
          <label class="form-label fw-bold">Autor</label>
          <input type="text" id="autorNombre" class="form-control input-custom"
            placeholder="Nombre del autor" required>
        </div>

        <!-- Nombre receta -->
        <div class="mb-3">
          <label class="form-label fw-bold">Nombre de la receta *</label>
          <input type="text" id="nombreReceta" class="form-control input-custom"
            placeholder="Ejemplo: Pasta cremosa con pollo" required>
        </div>

        <!-- Categoría -->
        <div class="mb-3">
          <label class="form-label fw-bold">Categoría *</label>
          <select id="categoria" class="form-select input-custom" required>
            <option value="">Seleccione la categoría</option>
            <option value="Desayunos">Desayunos</option>
            <option value="Almuerzos">Almuerzos</option>
            <option value="Cenas">Cenas</option>
            <option value="Postres">Postres</option>
            <option value="Snacks">Snacks</option>
            <option value="Ocasiones Especiales">Ocasiones Especiales</option>
          </select>
        </div>

        <!-- Costo por porción -->
        <div class="mb-3">
          <label class="form-label fw-bold">Costo por porción</label>
          <input type="number" id="presupuestoPorPorcion" class="form-control input-custom"
            placeholder="Ejemplo: 1500" min="0" step="0.01">
        </div>

        <!-- Descripción -->
        <div class="mb-3">
          <label class="form-label fw-bold">Descripción *</label>
          <textarea id="descripcionReceta" class="form-control input-custom"
            placeholder="Escriba una breve descripción" required></textarea>
        </div>

        <!-- Ingredientes -->
        <div class="mb-3">
          <label class="form-label fw-bold">Ingredientes *</label>

          <div id="contenedorIngredientes">
            <div class="row g-2 mb-2 ingrediente-item">
              <div class="col-12 col-md-5">
                <input type="text" class="form-control input-custom ingrediente-nombre"
                  placeholder="Ingrediente" required>
              </div>
              <div class="col-12 col-md-3">
                <input type="number" class="form-control input-custom ingrediente-cantidad"
                  placeholder="Cantidad" step="0.01" min="0" required>
              </div>
              <div class="col-12 col-md-3">
                <select class="form-select input-custom ingrediente-unidad" required>
                  <option value="">Seleccione la medida</option>
                  <option value="g">g</option>
                  <option value="kg">kg</option>
                  <option value="ml">ml</option>
                  <option value="l">l</option>
                  <option value="cucharadita(s)">Cucharadita(s)</option>
                  <option value="cucharada(s)">Cucharada(s)</option>
                  <option value="taza(s)">Taza(s)</option>
                  <option value="unidad(es)">Unidad(es)</option>
                </select>
              </div>
              <div class="col-12 col-md-1 d-flex align-items-center">
                <button type="button" class="btn btn-sm btn-outline-danger btn-eliminar-ing">X</button>
              </div>
            </div>
          </div>

          <button type="button" id="btnAgregarIngrediente" class="btn btn-vino mt-2">
            + Agregar ingrediente
          </button>
        </div>

        <!-- Pasos -->
        <div class="mb-3">
          <label class="form-label fw-bold">Pasos *</label>

          <div id="contenedorPasos">
            <div class="mb-3 paso-item">
              <textarea class="form-control input-custom paso-instruccion"
                placeholder="Describa el paso" required></textarea>
              <input type="file" accept="video/*,image/*"
                class="form-control mt-2 paso-media">
              <button type="button" class="btn btn-sm btn-outline-danger mt-2 btn-eliminar-paso">
                Eliminar paso
              </button>
            </div>
          </div>
          <button type="button" class="btn-vino my-2" id="btnAgregarPaso">
              Agregar paso
          </button>
          <!-- URL de imagen local -->
          <h5 class="text-start mt-4">Imagen (ruta local)</h5>
          <div class="mb-3">
              <input type="text" id="imagenUrl" class="form-control input-custom"
                  placeholder="/imgs/quequedenaranja.png" required>
          </div>

          <button type="button" id="btnAgregarPaso" class="btn btn-vino mt-2">
            + Agregar paso
          </button>
        </div>

        <!-- Tiempo preparación -->
        <div class="mb-3">
          <label class="form-label fw-bold">Tiempo de preparación (min)</label>
          <input type="number" id="tiempoPreparacion" class="form-control input-custom"
            placeholder="Ejemplo: 45" min="1">
        </div>

        <!-- Porciones -->
        <div class="mb-3">
          <label class="form-label fw-bold">Porciones</label>
          <input type="number" id="porciones" class="form-control input-custom"
            placeholder="Ejemplo: 4" min="1">
        </div>

        <!-- Botón enviar -->
        <button type="submit" class="btn-vino-center mt-3">
          Guardar Receta
        </button>

        <div id="mensaje-receta" class="mt-3"></div>

      </form>

    </div>
  </main>

  <!-- FOOTER -->
  <footer class="mt-auto py-3 border-top">
    <div class="container d-flex flex-column flex-sm-row justify-content-between align-items-center gap-2">
      <span>© <span id="year"></span> Gastro Works</span>
      <div><a href="#">Términos</a> · <a href="#">Privacidad</a></div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/front-end/js/registrar-receta.js"></script>
  <script src="/front-end/js/auth.js"></script>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

</body>

</html>